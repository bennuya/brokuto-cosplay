<div class="item">

  <div *ngIf="percentage | async as pct">
    <progress class="uk-progress" [value]="pct" max="100"></progress>
    <h4 class="h4Percent">{{ pct | number }}%</h4>
  </div>

  <div *ngIf="snapshot | async as snap">
    <small class="smallPercent">{{ snap.bytesTransferred | number:'3.0-0' }}KB of
      {{ snap.totalBytes | number:'3.0-0' }}KB</small>
    <br />
    <br />

    <div *ngIf="downloadURL as url" class="itemPicture">
      <img width="30%" [src]="url"><br>

      <a class="downloadPic" [href]="url" target="_blank" rel="noopener">Download this picture</a>
    </div>
    <br />
    <br />

    <div uk-margin>
      <button class="btnMargin uk-button uk-button-primary" (click)="task.pause()"
        [disabled]="!isActive(snap)">Pause</button>
      <button class="btnMargin uk-button uk-button-danger" (click)="task.cancel()"
        [disabled]="!isActive(snap)">Cancel</button>
      <button class="btnMargin uk-button uk-button-default" (click)="task.resume()"
        [disabled]="!(snap?.state === 'paused')">Resume</button>
    </div>
  </div>

</div>
